<template>
  <div>
    <div v-for="(article, index)  in pagedArticles" :key="index">
      <Article v-bind="article"></Article>
    </div>
    <!-- Pagination offset="offset" limit="limit" @click="fetchStories(pagination.prev_page_url)"/-->
    <div class="pagination" >
      <button class="btn btn-default" @click="pagination.current_page--"
              :disabled="pagination.current_page <= 1">
        Previous
      </button>
      <span>Page {{pagination.current_page}} of {{pagination.last_page}}</span>
      <button class="btn btn-default" @click="pagination.current_page++"
              :disabled="pagination.current_page >= pagination.last_page">
        Next
      </button>
    </div>
  </div>
</template>

<script lang="ts">
import Vue from 'vue'
import Component from 'vue-class-component'
import Article from './Article.vue'

@Component({
  props: {},
  components: {
    Article
  }
})

export default class Articles extends Vue {
  // Pass also the slug??
  articles: Array<Object> = [{
    'title': 'Reprehenderit prosciutto laborum',
    'content': 'Reprehenderit prosciutto laborum fugiat chicken.  In beef duis brisket id fatback.  Pork loin ex ut beef, aliqua kevin meatloaf ball tip est do burgdoggen pig eu short loin turkey.  Tail in commodo cow in ham enim.  Doner in spare ribs consequat, strip steak boudin dolor.\n\nUt beef ribs pancetta alcatra, ut id tenderloin adipisicing minim officia fatback.  Et burgdoggen capicola eu, velit fugiat leberkas proident id salami.  Cupim sirloin pork ham hock exercitation lorem drumstick chuck do ipsum short ribs beef ribs anim cupidatat.  Filet mignon porchetta dolore nisi.  Non nulla deserunt t-bone frankfurter picanha jerky occaecat reprehenderit beef ribs jowl brisket sirloin aliqua.  Ex prosciutto voluptate landjaeger.  Shank boudin qui reprehenderit labore dolor eiusmod, leberkas proident.\n\nOccaecat venison filet mignon, pastrami qui excepteur pig.  Andouille meatloaf in et anim.  Shankle shoulder culpa rump aute id incididunt sunt.  Ut duis elit qui, dolore sint t-bone meatloaf rump ham hock mollit ball tip aute spare ribs veniam.  Ullamco burgdoggen pancetta pork do short ribs qui.\n\nPastrami eu in, nostrud eiusmod dolore ham venison ullamco qui shankle consectetur biltong.  Short ribs shoulder ut biltong.  Officia boudin pork loin ut, occaecat pancetta esse.  Strip steak kevin voluptate beef leberkas, sed meatloaf ground round officia pancetta prosciutto boudin est labore.  Turkey ham hock aute pork, commodo anim quis veniam fatback lorem ea.\n\nPork belly ham hock ipsum cupidatat excepteur leberkas.  Pork cupidatat excepteur, pork belly salami tail cillum beef ribs mollit do anim.  Salami culpa nostrud hamburger short loin laborum deserunt proident veniam id filet mignon landjaeger.  Nisi meatloaf quis, tenderloin sunt meatball ball tip et ham ribeye tri-tip qui ullamco pancetta nostrud.  Minim turducken pancetta, mollit in ut picanha.',
    'createdAt': '2018-02-13 22:40:41'
  },
  {
    'title': 'Mollit in short',
    'content': 'Mollit in short loin veniam.  Incididunt occaecat landjaeger tail veniam, aliqua kevin chicken pork loin consectetur eiusmod.  In salami short ribs nisi voluptate biltong, sed aute commodo beef ribs consectetur chicken.  Capicola ea proident frankfurter, adipisicing prosciutto reprehenderit cillum minim ham commodo ground round kielbasa qui strip steak.  Landjaeger pancetta bresaola, kielbasa in beef ribs ground round meatloaf exercitation.  Boudin dolore tenderloin, ad quis ullamco in shank alcatra sausage pariatur doner short loin reprehenderit.\n\nVelit leberkas chicken, meatball shankle pancetta chuck anim in tri-tip spare ribs ex.  Elit boudin doner lorem consectetur short ribs tempor sed ham aliqua kevin velit.  Tongue pancetta lorem elit ex, andouille rump ea fatback porchetta ipsum consequat meatloaf anim pig.  Nisi pork belly flank, nulla tempor dolore in.  Enim minim do tail ham voluptate aute.  Kevin chuck velit in, commodo tempor meatball ham leberkas qui shoulder aliquip.  Salami tongue ut, kevin ball tip pork turducken.\n\nHam hock non aliqua, shoulder fatback sunt sirloin biltong laboris dolore duis bacon magna buffalo.  Et ground round aute strip steak.  Pancetta hamburger boudin ham hock tri-tip excepteur.  Nisi incididunt in nostrud, chicken t-bone strip steak id sunt tempor cupim.  Meatball anim cupim, tail beef ribs venison capicola enim velit ham hock landjaeger jerky.  Cow enim consequat do.  Spare ribs pastrami eu reprehenderit dolor proident.\n\nEx short ribs ground round eiusmod excepteur reprehenderit ullamco dolore pork.  Sint in chuck, laboris pork t-bone exercitation flank incididunt magna tenderloin.  Cillum consectetur lorem do landjaeger brisket picanha ex tri-tip ham hock.  Bacon sunt swine boudin salami alcatra hamburger pancetta porchetta buffalo tenderloin ex flank shoulder.  Rump nisi short loin consectetur cupidatat.  Corned beef in dolor shoulder voluptate mollit exercitation pariatur cow.  Pastrami culpa beef alcatra.\n\nProsciutto bresaola pastrami shank incididunt.  Dolor buffalo cow do bresaola leberkas short loin magna cupim shankle.  Prosciutto shank picanha, ad enim ipsum sed quis elit et flank cow est cupim shoulder.  Exercitation consectetur nostrud, ball tip nulla irure consequat turkey boudin porchetta tempor voluptate swine ipsum meatloaf.  Nisi andouille et capicola jerky.  Irure pork ham, chicken est pork belly tri-tip laboris short loin.',
    'createdAt': '2018-02-24 22:40:41'
  },
  {
    'title': 'Bresaola kielbasa nisi, short ribs',
    'content': 'Bresaola kielbasa nisi, short ribs elit turkey jerky ut.  Enim eiusmod incididunt elit.  Labore porchetta pork chop commodo, doner sirloin nostrud deserunt est eiusmod tongue brisket cillum in dolore.  Tongue eiusmod duis pork belly.  Lorem fugiat dolor pig.\n\nBuffalo aliqua kielbasa, tongue quis ham short ribs ham hock chicken in id tenderloin.  Landjaeger enim veniam sunt.  Turducken laborum ut tempor tongue, aliqua excepteur turkey andouille ball tip leberkas dolor.  Turkey biltong pig, ipsum leberkas cow ut pork belly labore short ribs.\n\nSirloin swine brisket esse adipisicing.  Short loin mollit do capicola, veniam sed ut sint ex.  Cow do proident adipisicing ham hock venison ex ham incididunt prosciutto short loin anim tri-tip short ribs.  Consequat tongue occaecat, jowl biltong spare ribs ex.  Boudin jowl culpa qui shankle laboris.  In salami mollit non duis chuck shoulder.  Ham hock beef strip steak exercitation sed laborum pariatur labore shank.\n\nEnim minim burgdoggen mollit prosciutto meatball.  Spare ribs enim ground round ad excepteur mollit.  Pork belly quis brisket non, flank ut pariatur.  Velit brisket landjaeger doner qui incididunt deserunt magna buffalo in labore culpa porchetta lorem aliquip.  Eiusmod filet mignon ut beef ribs.\n\nDolor boudin shankle sausage meatball biltong et.  Brisket exercitation quis sirloin pancetta jowl alcatra incididunt fugiat anim ipsum irure bresaola qui turkey.  Swine id reprehenderit nulla esse tempor fugiat tail ullamco.  Quis sunt hamburger velit, ball tip sausage ribeye in.  Pork chop cupidatat boudin minim andouille.  Beef ribs et reprehenderit, ad beef capicola dolore velit rump.',
    'createdAt': '2018-02-5 22:40:42'
  },
  {
    'title': 'In strip steak mollit beef',
    'content': 'In strip steak mollit beef chuck shoulder.  Et ham hock in ex in andouille swine ut pork chop cillum consequat est irure.  Cillum picanha pariatur leberkas.  Meatloaf excepteur bresaola jerky ad officia bacon flank strip steak cow.  Kevin adipisicing esse in laboris.  Boudin enim pork loin anim biltong et voluptate ground round alcatra irure.\n\nKielbasa culpa brisket, pork belly in burgdoggen jerky.  Voluptate meatloaf capicola, strip steak sed ex ut corned beef.  Boudin tenderloin dolore shoulder, filet mignon voluptate burgdoggen ground round.  Landjaeger fugiat frankfurter mollit, aliqua cupidatat culpa brisket commodo corned beef quis jerky non.  Hamburger pig minim ut, pork belly filet mignon ea spare ribs.\n\nShoulder corned beef cillum, beef shankle pig meatloaf ground round meatball ea.  Qui ea shank jowl.  Veniam brisket kevin commodo tenderloin.  Brisket beef ut boudin.  Shank sint consequat beef ribs reprehenderit cupim meatball capicola biltong landjaeger elit ground round.  Dolore dolore drumstick spare ribs tempor est in shoulder culpa pork chop.\n\nShort ribs chuck ground round eu cow.  Anim et exercitation picanha bresaola sunt ut proident dolore.  Hamburger porchetta bresaola meatloaf, elit strip steak voluptate short loin biltong.  In magna turducken fugiat.\n\nCommodo cupidatat capicola sed shoulder aliqua filet mignon esse ut doner.  Bacon ham spare ribs brisket tail prosciutto sausage cillum ground round do officia est in ut.  Fugiat frankfurter lorem, ullamco shank chicken buffalo andouille.  Short loin culpa mollit, cupidatat quis sausage minim do officia cupim.',
    'createdAt': '2018-02-8 22:40:42'
  },
  {
    'title': 'Cupim enim veniam',
    'content': 'Cupim enim veniam salami eiusmod meatloaf.  Dolor drumstick beef ribs excepteur spare ribs esse magna turducken labore kielbasa fugiat ut in do meatball.  Hamburger turkey ut short loin brisket.  Swine pancetta id bacon, aliquip tenderloin ipsum andouille chicken minim eiusmod picanha deserunt pork chop.\n\nIrure salami elit, drumstick capicola in deserunt pork loin.  Meatloaf swine frankfurter, rump ut prosciutto duis pariatur salami kielbasa venison cupidatat filet mignon ex shankle.  Pig doner ham hock, duis eiusmod rump shankle dolor.  Ea venison dolor shoulder deserunt magna.\n\nJowl nulla reprehenderit, venison velit filet mignon anim beef ribs picanha chicken.  Lorem culpa capicola, exercitation aliquip hamburger ullamco beef ribs elit et tenderloin est.  Qui adipisicing ham hock eu fatback.  Shankle nisi nulla eiusmod pancetta corned beef sed fugiat dolor reprehenderit do ea deserunt.  Qui salami meatloaf cupidatat minim tempor.\n\nCow dolore est, veniam brisket ribeye ham hock do nisi ut magna.  Cupim deserunt laborum chuck aliqua short ribs non ribeye in swine bacon.  Est id dolore ea et pastrami alcatra.  Qui ex pork loin picanha, pig ut kielbasa kevin bacon.  Andouille elit cupidatat, labore fugiat salami velit corned beef dolore pastrami proident commodo pork loin.\n\nUt burgdoggen qui short loin.  Tenderloin shankle in, anim consequat pork belly deserunt.  Quis fugiat chuck enim, venison bresaola non irure sirloin pork chop.  Burgdoggen duis consequat sint turkey pastrami.  Cupim chicken magna enim spare ribs consequat minim corned beef consectetur sirloin porchetta do jerky ad.  Minim commodo chicken porchetta.  Ground round picanha pork chop, ham hock laboris pork loin voluptate cupidatat lorem filet mignon officia turkey cupim tongue capicola.',
    'createdAt': '2018-02-15 22:40:43'
  }];

  pagination = {
    current_page: 2,
    last_page: 3,
    next_page_url: 'next', // data.next_page_url,
    prev_page_url: 'prev' // data.prev_page_url
  };

  // computed
  get pagedArticles () {
    const limit = 2
    return this.articles.slice(
      (this.pagination.current_page - 1) * limit,
      (this.pagination.current_page - 1) * limit + limit
    )
  }
}
</script>

<style scoped>
  .pagination {
    padding-top: 20px;
    text-align: center;
  }
  .pagination span {
    margin: 20px;
  }
</style>
